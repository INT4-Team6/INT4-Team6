{"ast":null,"code":"var _jsxFileName = \"/Users/sarahvandenberghe/School/Devine/20192020/Integration-4/INT4_Group6/client/src/components/Controls/index.js\";\nimport * as React from 'react';\nimport { extend, useThree, useFrame } from 'react-three-fiber';\nimport { TrackballControls } from 'three/examples/jsm/controls/TrackballControls';\nimport * as THREE from 'three';\nextend({\n  TrackballControls\n});\n\nconst Controls = ({}) => {\n  const controls = React.useRef();\n  const {\n    camera,\n    gl\n  } = useThree(); // https://discourse.threejs.org/t/how-to-limit-pan-in-orbitcontrols-for-orthographiccamera/9061/15\n\n  var minPan = new THREE.Vector3(-2, -2, -15);\n  var maxPan = new THREE.Vector3(2, 2, 50);\n\n  var _v = new THREE.Vector3();\n\n  controls.addEventListener('change', handleChangeControls(controls));\n  controls.current.addEventListener('change', function () {\n    alert('Test');\n\n    _v.copy(controls.target);\n\n    controls.target.clamp(minPan, maxPan);\n\n    _v.sub(controls.target);\n\n    camera.position.sub(_v);\n  });\n\n  const handleChangeControls = controls => {// alert(\"Test\");\n    // _v.copy(controls.target);\n    // controls.target.clamp(minPan, maxPan);\n    // _v.sub(controls.target);\n    // camera.position.sub(_v);\n  };\n\n  useFrame(() => {\n    controls.current.update();\n  });\n  return /*#__PURE__*/React.createElement(\"trackballControls\", {\n    ref: controls,\n    args: [camera, gl.domElement],\n    dynamicDampingFactor: 0.5,\n    zoomSpeed: 0.5,\n    onChange: e => limitControls(e),\n    minDistance: 43,\n    maxDistance: 50,\n    mouseButtons: {\n      LEFT: THREE.MOUSE.PAN,\n      // make pan the default instead of rotate\n      MIDDLE: THREE.MOUSE.ZOOM,\n      RIGHT: THREE.MOUSE.ROTATE\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  });\n};\n\nexport default Controls;","map":{"version":3,"sources":["/Users/sarahvandenberghe/School/Devine/20192020/Integration-4/INT4_Group6/client/src/components/Controls/index.js"],"names":["React","extend","useThree","useFrame","TrackballControls","THREE","Controls","controls","useRef","camera","gl","minPan","Vector3","maxPan","_v","addEventListener","handleChangeControls","current","alert","copy","target","clamp","sub","position","update","domElement","e","limitControls","LEFT","MOUSE","PAN","MIDDLE","ZOOM","RIGHT","ROTATE"],"mappings":";AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,MAAT,EAAiBC,QAAjB,EAA2BC,QAA3B,QAA2C,mBAA3C;AACA,SAASC,iBAAT,QAAkC,+CAAlC;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AAEAJ,MAAM,CAAC;AAAEG,EAAAA;AAAF,CAAD,CAAN;;AAEA,MAAME,QAAQ,GAAG,CAAC,EAAD,KAAS;AACtB,QAAMC,QAAQ,GAAGP,KAAK,CAACQ,MAAN,EAAjB;AACA,QAAM;AAAEC,IAAAA,MAAF;AAAUC,IAAAA;AAAV,MAAiBR,QAAQ,EAA/B,CAFsB,CAKtB;;AACA,MAAIS,MAAM,GAAG,IAAIN,KAAK,CAACO,OAAV,CAAkB,CAAC,CAAnB,EAAsB,CAAC,CAAvB,EAA0B,CAAC,EAA3B,CAAb;AACA,MAAIC,MAAM,GAAG,IAAIR,KAAK,CAACO,OAAV,CAAkB,CAAlB,EAAqB,CAArB,EAAwB,EAAxB,CAAb;;AACA,MAAIE,EAAE,GAAG,IAAIT,KAAK,CAACO,OAAV,EAAT;;AAEAL,EAAAA,QAAQ,CAACQ,gBAAT,CAA0B,QAA1B,EAAoCC,oBAAoB,CAACT,QAAD,CAAxD;AAECA,EAAAA,QAAQ,CAACU,OAAT,CAAiBF,gBAAjB,CAAkC,QAAlC,EAA4C,YAAY;AACtDG,IAAAA,KAAK,CAAC,MAAD,CAAL;;AACAJ,IAAAA,EAAE,CAACK,IAAH,CAAQZ,QAAQ,CAACa,MAAjB;;AACAb,IAAAA,QAAQ,CAACa,MAAT,CAAgBC,KAAhB,CAAsBV,MAAtB,EAA8BE,MAA9B;;AACAC,IAAAA,EAAE,CAACQ,GAAH,CAAOf,QAAQ,CAACa,MAAhB;;AACAX,IAAAA,MAAM,CAACc,QAAP,CAAgBD,GAAhB,CAAoBR,EAApB;AACD,GAND;;AAQD,QAAME,oBAAoB,GAAIT,QAAD,IAAc,CACzC;AACA;AACA;AACA;AACA;AACD,GAND;;AAQAJ,EAAAA,QAAQ,CAAC,MAAM;AACbI,IAAAA,QAAQ,CAACU,OAAT,CAAiBO,MAAjB;AACD,GAFO,CAAR;AAIA,sBACE;AACE,IAAA,GAAG,EAAEjB,QADP;AAEE,IAAA,IAAI,EAAE,CAACE,MAAD,EAASC,EAAE,CAACe,UAAZ,CAFR;AAGE,IAAA,oBAAoB,EAAE,GAHxB;AAIE,IAAA,SAAS,EAAE,GAJb;AAKE,IAAA,QAAQ,EAAGC,CAAD,IAAOC,aAAa,CAACD,CAAD,CALhC;AAOE,IAAA,WAAW,EAAE,EAPf;AAQE,IAAA,WAAW,EAAE,EARf;AASE,IAAA,YAAY,EAAE;AACZE,MAAAA,IAAI,EAAEvB,KAAK,CAACwB,KAAN,CAAYC,GADN;AACW;AACvBC,MAAAA,MAAM,EAAE1B,KAAK,CAACwB,KAAN,CAAYG,IAFR;AAGZC,MAAAA,KAAK,EAAE5B,KAAK,CAACwB,KAAN,CAAYK;AAHP,KAThB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF;AAiBH,CAjDD;;AAmDA,eAAe5B,QAAf","sourcesContent":["import * as React from 'react';\nimport { extend, useThree, useFrame } from 'react-three-fiber';\nimport { TrackballControls } from 'three/examples/jsm/controls/TrackballControls';\nimport * as THREE from 'three';\n\nextend({ TrackballControls });\n\nconst Controls = ({ }) => {\n    const controls = React.useRef();\n    const { camera, gl } = useThree();\n\n\n    // https://discourse.threejs.org/t/how-to-limit-pan-in-orbitcontrols-for-orthographiccamera/9061/15\n    var minPan = new THREE.Vector3(-2, -2, -15);\n    var maxPan = new THREE.Vector3(2, 2, 50);\n    var _v = new THREE.Vector3();\n\n    controls.addEventListener('change', handleChangeControls(controls))\n\n     controls.current.addEventListener('change', function () {\n       alert('Test');\n       _v.copy(controls.target);\n       controls.target.clamp(minPan, maxPan);\n       _v.sub(controls.target);\n       camera.position.sub(_v);\n     });\n\n    const handleChangeControls = (controls) => {\n      // alert(\"Test\");\n      // _v.copy(controls.target);\n      // controls.target.clamp(minPan, maxPan);\n      // _v.sub(controls.target);\n      // camera.position.sub(_v);\n    };\n\n    useFrame(() => {\n      controls.current.update();\n    });\n\n    return (\n      <trackballControls\n        ref={controls}\n        args={[camera, gl.domElement]}\n        dynamicDampingFactor={0.5}\n        zoomSpeed={0.5}\n        onChange={(e) => limitControls(e)}\n\n        minDistance={43}\n        maxDistance={50}\n        mouseButtons={{\n          LEFT: THREE.MOUSE.PAN, // make pan the default instead of rotate\n          MIDDLE: THREE.MOUSE.ZOOM,\n          RIGHT: THREE.MOUSE.ROTATE,\n        }}\n      />\n    );\n};\n\nexport default Controls;\n"]},"metadata":{},"sourceType":"module"}